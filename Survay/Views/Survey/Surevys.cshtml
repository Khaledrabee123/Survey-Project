@model List<Survay.DTOs.UserSurveysDTO>

@{
    ViewData["Title"] = "Surveys Overview";
}




<style>
    .survey-container {
        display: flex;
        justify-content: left;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
    }

    .survey-card {
        width: 18rem;
        background: white;
        border-radius: 10px;
        padding: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border: 1px solid #ddd;
    }

    .survey-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .survey-status {
        background-color: #d1f5d3;
        color: #198754;
        padding: 5px 10px;
        font-size: 14px;
        border-radius: 5px;
    }

    .survey-icon {
        cursor: pointer;
        color: gray;
    }

    .survey-title {
        font-weight: bold;
        margin-top: 10px;
    }

    .survey-date {
        color: #6c757d;
        font-size: 14px;
    }

    .survey-responses {
        font-weight: 600;
        margin-top: 5px;
    }

    .survey-button {
        width: 100%;
        border: 1px solid #0d6efd;
        background: none;
        padding: 8px;
        border-radius: 5px;
        color: #0d6efd;
        font-weight: bold;
        margin-right: 5px;
        cursor: pointer;
    }

        .survey-button:hover {
            background: #0d6efd;
            color: white;
        }
</style>

<div class="survey-container">
    @foreach (var survey in Model)
    {
        <div class="survey-card">
            <div class="survey-header">
                <span class="survey-status">@survey.Status</span>
                <form asp-controller="Survey" asp-action="DeleteSurvey" method="post" onsubmit="return confirm('Are you sure you want to delete this survey?');" style="display: inline;">
                    <input type="hidden" name="id" value="@survey.Id" />
                    <button type="submit" class="survey-icon text-danger border-0 bg-transparent">
                        <i class="bi bi-trash"></i>
                    </button>
                </form>
            </div>

            <h5 class="survey-title">@survey.Title</h5>

            <p class="survey-responses">
                <i class="bi bi-bar-chart"></i> @survey.TotalResponses responses
            </p>

            <div class="survey-actions">
                <a asp-controller="Survey" asp-action="Edit" asp-route-id="@survey.Id" class="survey-button edit-button">
                    Edit
                </a>
                <a asp-controller="Analyze" asp-action="Analyze" asp-route-id="@survey.Id" class="survey-button">
                    Analyze
                </a>
                <a asp-controller="Response" asp-action="Share" asp-route-id="@survey.Id" class="survey-button">
                    Share
                </a>
               
            </div>
        </div>

    }
</div>

<!-- Bootstrap Icons (Optional) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">